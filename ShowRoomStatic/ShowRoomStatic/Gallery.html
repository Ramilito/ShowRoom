<div class="view" ng-hide="vm.isHidden" ng-controller="Gallery as vm">
    <md-content layout="row" layout-align="center start" layout-wrap>
        <div layout="column" flex="25" flex-md="33" flex-sm="50" flex-xs="100" ng-repeat="row in vm.rows track by $index">
            <md-content ng-repeat="painting in vm.paintings" ng-if="$index >= row.start && $index <= row.end" class="animate-this">
                <md-card>
                    <md-button class="gallery-card-img" ng-click="vm.showDialog($event, painting)" aria-label="painting.name">
                        <img ng-src="{{painting.src}}">
                    </md-button>
                    <md-card-title>
                        <md-card-title-text>
                            <span class="md-headline">{{painting.name}}</span>
                            <span class="md-subhead">{{painting.text}}</span>
                        </md-card-title-text>
                    </md-card-title>
                    <md-divider></md-divider>
                    <md-card-actions style="margin:0;" layout="row" layout-align="space-between end">
                        <div>
                            <md-button class="md-icon-button" ng-click="vm.addOrRemove(painting)">
                                <md-icon ng-class="{'item_added' : painting.itemAdded}">add_shopping_cart</md-icon>
                            </md-button>                            
                        </div>
                        <div> 
                            <md-menu md-position-mode="target-right target">
                                <md-button  aria-label="Open sharing interactions menu" class="md-icon-button gallery-menu-vert " ng-click="vm.openMenu($mdOpenMenu, $event, painting)">
                                    <md-icon  md-menu-origin>more_vert</md-icon>
                                </md-button>
                                <md-menu-content width="6">
                                    <md-menu-item>
                                        <div md-menu-align-target  class="fb-like" ng-if="painting.menuOpen"
                                             data-href="{{painting.href}}"
                                             data-image="{{painting.fbLink}}"
                                             data-layout="standard"
                                             data-action="like"
                                             data-show-faces="false"
                                             data-share="true"></div>
<!--                                        <div  class="fb-like" ng-if="painting.menuOpen" data-href="{{painting.href}}" data-image="{{painting.fbLink}}" data-layout="standard" data-action="like" data-show-faces="false" data-share="true"></div>-->
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </div>
                    </md-card-actions>
                </md-card>
            </md-content>
        </div>
    </md-content>
</div>
